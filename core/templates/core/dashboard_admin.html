<!-- core/templates/core/dashboard_admin.html -->
{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="container mx-auto p-8 mt-8 bg-white rounded-lg shadow-xl">
    <h1 class="text-3xl font-bold text-indigo-700 mb-6">Admin Dashboard - Platform Overview</h1>
    <p class="text-gray-700 mb-8">Comprehensive statistics and management insights for the LMS platform.</p>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
        <!-- User Statistics Card -->
        <div class="bg-blue-50 p-6 rounded-lg shadow-md border border-blue-200">
            <h2 class="text-xl font-semibold text-blue-800 mb-3">User Statistics</h2>
            <ul class="space-y-2 text-gray-700">
                <li><span class="font-medium">Total Users:</span> <span class="font-bold text-blue-700">{{ total_users }}</span></li>
                <li><span class="font-medium">Students:</span> <span class="font-bold">{{ total_students }}</span></li>
                <li><span class="font-medium">Instructors:</span> <span class="font-bold">{{ total_instructors }}</span></li>
                <li><span class="font-medium">Sponsors:</span> <span class="font-bold">{{ total_sponsors }}</span></li>
                <li><span class="font-medium">Admins:</span> <span class="font-bold">{{ total_admins }}</span></li>
            </ul>
        </div>

        <!-- Course Metrics Card -->
        <div class="bg-green-50 p-6 rounded-lg shadow-md border border-green-200">
            <h2 class="text-xl font-semibold text-green-800 mb-3">Course Metrics</h2>
            <ul class="space-y-2 text-gray-700">
                <li><span class="font-medium">Total Courses:</span> <span class="font-bold text-green-700">{{ total_courses }}</span></li>
                <li><span class="font-medium">Active Courses:</span> <span class="font-bold">{{ active_courses }}</span></li>
                <li><span class="font-medium">Average Completion Rate:</span> <span class="font-bold">{{ average_completion_rate|floatformat:"1" }}%</span></li>
            </ul>
        </div>

        <!-- Enrollment & Sponsorship Metrics Card -->
        <div class="bg-purple-50 p-6 rounded-lg shadow-md border border-purple-200">
            <h2 class="text-xl font-semibold text-purple-800 mb-3">Enrollment & Sponsorship</h2>
            <ul class="space-y-2 text-gray-700">
                <li><span class="font-medium">Total Enrollments:</span> <span class="font-bold text-purple-700">{{ total_enrollments }}</span></li>
                <li><span class="font-medium">Completed Enrollments:</span> <span class="font-bold">{{ completed_enrollments }}</span></li>
                <li><span class="font-medium">Total Sponsorships:</span> <span class="font-bold">{{ total_sponsorships }}</span></li>
                <li><span class="font-medium">Total Funds Received:</span> <span class="font-bold">${{ total_funds_received|floatformat:2 }}</span></li>
            </ul>
        </div>
    </div>

    <!-- Quick Links / Management Section -->
    <div class="mt-10 p-6 bg-gray-50 rounded-lg shadow-md border border-gray-200">
        <h2 class="text-2xl font-bold text-indigo-700 mb-4">Quick Management Links</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            <a href="{% url 'admin:auth_user_changelist' %}" class="block bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg text-center transition duration-300 ease-in-out transform hover:scale-105">Manage Users</a>
            <a href="{% url 'admin:core_course_changelist' %}" class="block bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg text-center transition duration-300 ease-in-out transform hover:scale-105">Manage Courses</a>
            <a href="{% url 'admin:core_enrollment_changelist' %}" class="block bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg text-center transition duration-300 ease-in-out transform hover:scale-105">Manage Enrollments</a>
            <a href="{% url 'admin:core_sponsorship_changelist' %}" class="block bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg text-center transition duration-300 ease-in-out transform hover:scale-105">Manage Sponsorships</a>
            <a href="{% url 'admin:index' %}" class="block bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg text-center transition duration-300 ease-in-out transform hover:scale-105">Go to Django Admin</a>
        </div>
    </div>
</div>
{% endblock %}